<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Find the right climate clauses for your contract</title>
	<link rel="stylesheet" href="https://chancerylaneproject.org/wp-content/themes/contracts-for-change/dist/css/main.css?v=1.2.148">
	<link rel='stylesheet' id='wp-block-library-css' href='https://chancerylaneproject.org/wp-includes/css/dist/block-library/style.min.css?ver=6.7.1' media='all' />
	<link rel='stylesheet' id='cfc-style-css' href='https://chancerylaneproject.org/wp-content/themes/contracts-for-change/style.css?ver=1.0.2' media='all' />
	<!-- Fathom - beautiful, simple website analytics -->
	<script src="https://cdn.usefathom.com/script.js" data-site="TGKQMOXQ" defer></script>
	<!-- / Fathom -->
	<link rel="icon" href="https://chancerylaneproject.org/wp-content/themes/contracts-for-change/dist/images/fav/favicon.svg" type="image/svg+xml">
	<style class='wp-fonts-local'>
	@font-face{font-family:public-sans;font-style:normal;font-weight:400;font-display:fallback;src:url('https://chancerylaneproject.org/wp-content/themes/contracts-for-change/dist/fonts/public-sans/PublicSans-Regular.woff2') format('woff2');font-stretch:normal;}
	@font-face{font-family:public-sans;font-style:italic;font-weight:400;font-display:fallback;src:url('https://chancerylaneproject.org/wp-content/themes/contracts-for-change/dist/fonts/public-sans/PublicSans-Italic.woff2') format('woff2');font-stretch:normal;}
	@font-face{font-family:public-sans;font-style:normal;font-weight:700;font-display:fallback;src:url('https://chancerylaneproject.org/wp-content/themes/contracts-for-change/dist/fonts/public-sans/PublicSans-Bold.woff2') format('woff2');font-stretch:normal;}
	@font-face{font-family:public-sans;font-style:italic;font-weight:700;font-display:fallback;src:url('https://chancerylaneproject.org/wp-content/themes/contracts-for-change/dist/fonts/public-sans/PublicSans-BoldItalic.woff2') format('woff2');font-stretch:normal;}
	</style>

	<style id='wp-block-library-theme-inline-css'>
	  :root {
		--border: #b1b4b6;
		--radius: 0.5rem;

		--success: #00703c;
		--error: #d4351c;
		--error-hover: #942514;

		--light: 300;
		--regular: 400;
		--medium: 500;
		--bold: 700;

		--navy-110: #0B183F;
		--navy-90: #20305e;
		--navy-80: #4B5576;
		--navy-60: #6E7691;
		--navy-40: #A5AABE;
		--navy-20: #D3D5E3;
		--navy-8: #EDEEF5;
		--navy-4: #F5F6FC;

		--magenta-80: #DE50A3;
		--magenta-60: #E779BB;
		--magenta-40: #EFAAD5;
		--magenta-20: #FCD5EE;
		--magenta-8: #FDECF7;
	  }

	  body {
		background: #1C2B58;
		color:#1C2B58;
		  font-size:17px;
		font-family:"public-sans", sans-serif;
	  }
	  .logo-wrapper {
		margin: 50px auto 0;
		max-width: 600px;
	  }
	  .logo-wrapper svg {
		fill: #FFF;
		width: 185px;
		height: 53px;
	  }
	  .center-wrapper {
		background: #FFF;
		position: relative;
		max-width: 600px;
		padding: 2.2em !important;
		border-radius: 10px;
		margin: 20px auto 50px;
	  }
	  .center-wrapper h1 {
		font-size: 2.5em;
		margin-bottom: 0.75em;
	  }
	  .center-wrapper ul {
		list-style-position: outside;
		margin-bottom:2em;
		padding-left: 1em;
	  }
	  .center-wrapper ul li {
		margin-bottom: 0.5em;
	  }
	  .cfc-button {
		padding: 13px 30px;
		color: #FFF  !important;
		background: #d7288b !important;
	  }
	  .border-section {
		margin-top: 40px;
		padding: 40px 0 0;
		border-top: 1px solid #CCC;
	  }
	  #clauseDetails {

	  }
	  .clause-wrapper {
		border: 1px solid rgb(211, 213, 227);
		padding: 25px 25px;
		border-radius: 8px;
		margin: 25px 0;
		position: relative;
	  }
	  .clause-wrapper:hover {
		background: #F5F6FC;
	  }
	  .clause-wrapper:hover h4 {
		text-decoration: underline;
	  }
	  .clause-wrapper .childs-name {
		color:rgb(215, 40, 139);
		font-weight: bold;
		margin-bottom: 5px;
	  }
	  .clause-wrapper h4 {
		font-size: 21px;
		line-height: 1.3;
		margin-bottom: 0.3em;
	  }
	  .clause-wrapper p.excerpt {
		font-size: 16px;
		line-height: 1.35;
		margin-bottom: 10px;
	  }
	  .clause-wrapper p.meta-data {
		font-size: 16px;
		color: rgb(110, 118, 145);
		margin: 0 0 5px 0;
	  }
	  .clause-wrapper p.meta-data span.cfc-leadin {
		font-weight: bold;
	  }
	  .clause-wrapper a.hot-spot {
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
	  }
	  .clause-pseudo-wrapper:nth-of-type(2) .clause-wrapper::after {
		content: "Popular";
		position: absolute;
		background-color: purple;
		color: #FFF;
		font-weight: bold;
		font-size: 10px;
		padding: 5px 7px 5px 22px;
		bottom: 0;
		right: 10px;
		background-image: url('data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 11L14.207 9.207L10 13.414L7 10.414L4.707 12.707L3.293 11.293L7 7.586L10 10.586L12.793 7.793L11 6H16V11ZM10 0C4.478 0 0 4.478 0 10C0 15.522 4.478 20 10 20C15.522 20 20 15.522 20 10C20 4.478 15.522 0 10 0Z" fill="white"/></svg>');
		border-radius: 9px 4px 0 0;
		background-size: 13px;
		background-repeat: no-repeat;
		background-position: 5px 4px;
	  }
	  .confidence-indicator {
		position: absolute;
		display: inline-block;
		background: #F5F6FC;
		padding: 4px 10px 4px 24px;
		border-radius: 3px;
		right: 10px;
		top: 21px;
		font-size: 12px;
		z-index: 100;
	  }
	  .clause-wrapper:hover .confidence-indicator {
		background: #FFF;
	  }
	  .confidence-indicator .signal {
		display: block;
		width: 10px;
		height: 10px;
		border-radius: 100%;
		position: absolute;
		top: 6px;
		left: 8px;
	  }
	  .confidence-indicator .signal.very-good {
		background: green;
	  }
	  .confidence-indicator .signal.good {
		background: darkmagenta;
	  }
	  .confidence-indicator .signal.acceptable {
		background: orange;
	  }
	  .signal.could-consider {
		background: red;
	}
	  h3 {
		position: relative;
		margin-top: 1.5em;
	  }
	  h3 .confidence-indicator {
		position: relative;
		top: -3px;
		right: auto;
	  }
	  .govuk-form-group {
		  background: #f9f8f8;
		  padding: 15px;
		  border-radius: 5px;
		  border: 1px solid #cecece;
	  }
	  .hidden {
		display: none;
	  }
	  #results h2,
	  .govuk-form-group h2 {
		  margin-bottom: 0.5em;
	  }
	  .clause-pseudo-wrapper {
		position: relative;
	  }
	  .grid-count--2 {
		grid-template-columns: repeat(2, 1fr);
		gap: 1.5em;
		margin-top: 1.5em;
	  }
	  .grid-count--2 .cfc-card__type {
		color: #d7288b;
		font-size: 15px;
	  }
	  .grid-count--2 .cfc-card__description {
		font-size: 15px;
		line-height: 20px;
	  }
	  .govuk-phase-banner {
		background: #ffdd00;
	  }
	  .govuk-phase-banner__content {
		max-width: 600px;
		margin: 0 auto;
	  }
	  .govuk-phase-banner__content__tag {
		text-transform: uppercase;
		font-weight: bold;
		background: #1c2b58;
		color: #FFF;
		margin: 4px 10px 0 0;
		font-size: 13px;
	  }
	</style>

</head>
<body>
  <div class="govuk-phase-banner">
	<p class="govuk-phase-banner__content">
	  <strong class="govuk-tag govuk-phase-banner__content__tag">
		Prototype
	  </strong>
	  <span class="govuk-phase-banner__text">
		Send questions or feedback to <a href="mailto:digital@chancerylaneproject.org">digital@chancerylaneproject.org</a>.
		Uploaded files are not stored.
	  </span>
	</p>
  </div>
  <div class="logo-wrapper">
	<svg class="logo" xmlns="http://www.w3.org/2000/svg" width="166" height="47" viewBox="0 0 166 47"><path d="M3 3h8.671V0H1.5L0 1.5v40L1.5 43h10.171v-3H3zM34.329 0v3H43v37h-8.671v3H44.5l1.5-1.5v-40L44.5 0z"></path><path d="M23 7.5c-7.872 0-14.25 6.378-14.25 14.25S15.128 36 23 36s14.25-6.378 14.25-14.25S30.872 7.5 23 7.5zM12.579 26.12c2.948-.078 3.023-2.953 6.293-2.513 3.725.501.423 2.074.934 4.314.368 1.622 2.798 3.238 2.972 5.119-4.586-.09-8.513-2.918-10.199-6.92zm19.028-3.819c-.806.806.737 2.3.197 3.282-.541.983-1.071 1.278-1.071 2.614 0 .694.145 1.188.286 1.506a11.328 11.328 0 0 1-3.999 2.596c.896-1.351 1.76-3.523.924-6.334-.668-2.28-4.914-3.292-7.872-4.137s-.845-4.904.767-6.771c1.275-1.478 1.117-3.688.995-4.549a11.16 11.16 0 0 1 2.413.013c-.223 1.094-.436 3.2.553 5.313 1.425 3.047 3.312.089 4.825 1.612s1.435 2.329 3.037 2.142l1.4-.154c.156.748.241 1.522.241 2.316 0 .477-.039.944-.097 1.405-.604-.796-1.834-1.618-2.598-.854zM58.141 11.75h2.225V1.966h3.641V0H54.5v1.966h3.641zM67.756 7.249c0-.314.068-.591.204-.829.135-.238.322-.422.561-.553.238-.13.509-.195.812-.195.466 0 .845.146 1.138.439.293.292.439.672.439 1.138v4.502h2.13V6.778c0-.596-.13-1.121-.39-1.576s-.621-.812-1.081-1.073c-.461-.26-.989-.39-1.585-.39s-1.124.13-1.584.39a2.861 2.861 0 0 0-.643.501V0h-2.129v11.75h2.129V7.248zM76.402 11.385c.639.352 1.371.528 2.194.528.639 0 1.232-.114 1.779-.341a3.646 3.646 0 0 0 1.389-1.007l-1.251-1.251c-.239.271-.52.474-.845.609a2.795 2.795 0 0 1-1.089.203c-.444 0-.834-.095-1.17-.285a1.89 1.89 0 0 1-.929-1.262l5.723-.014a4.035 4.035 0 0 0 .114-.926c0-.748-.166-1.417-.496-2.007s-.785-1.056-1.365-1.398-1.249-.512-2.007-.512a4.113 4.113 0 0 0-3.583 2.007c-.364.612-.545 1.309-.545 2.089 0 .791.187 1.495.561 2.113.373.617.88 1.102 1.519 1.455zm.943-5.607a2.104 2.104 0 0 1 1.105-.285c.401 0 .74.084 1.016.252s.487.409.634.724c.07.151.124.321.165.506l-3.782.011c.039-.143.077-.286.139-.412.169-.341.409-.607.724-.796zM61.589 25.17c-.461.195-1.01.293-1.65.293-.53 0-1.016-.092-1.455-.276a3.37 3.37 0 0 1-1.145-.788 3.506 3.506 0 0 1-.747-1.211 4.432 4.432 0 0 1-.26-1.56c0-.563.086-1.081.26-1.552a3.51 3.51 0 0 1 .747-1.219 3.263 3.263 0 0 1 1.145-.78 3.82 3.82 0 0 1 1.455-.268c.607 0 1.138.098 1.593.293s.84.466 1.154.812l1.496-1.495a5.971 5.971 0 0 0-1.836-1.227c-.694-.297-1.496-.447-2.406-.447-.844 0-1.622.152-2.331.455a5.993 5.993 0 0 0-1.87 1.251c-.536.531-.948 1.154-1.235 1.869s-.43 1.484-.43 2.308.143 1.593.43 2.308.699 1.34 1.235 1.877c.537.536 1.162.953 1.877 1.251s1.49.447 2.324.447c.932 0 1.75-.147 2.454-.439s1.321-.704 1.853-1.236l-1.495-1.495a3.169 3.169 0 0 1-1.162.828zM67.756 22.847c0-.314.068-.59.204-.828.135-.239.322-.423.561-.553.238-.13.509-.194.812-.194.466 0 .845.146 1.138.438.293.293.439.672.439 1.138v4.502h2.13v-4.973c0-.596-.13-1.121-.39-1.576s-.621-.813-1.081-1.073c-.461-.26-.989-.39-1.585-.39s-1.124.13-1.584.39a2.833 2.833 0 0 0-.643.501V15.6h-2.129v11.75h2.129v-4.502zM82.513 27.349v-7.85h-2.114v.779a2.763 2.763 0 0 0-.763-.6c-.445-.228-.948-.341-1.511-.341-.716 0-1.36.179-1.935.536a3.742 3.742 0 0 0-1.349 1.463c-.325.617-.487 1.316-.487 2.096 0 .769.163 1.462.487 2.08a3.739 3.739 0 0 0 1.349 1.462 3.581 3.581 0 0 0 1.935.537c.563 0 1.066-.117 1.511-.349.301-.158.545-.368.763-.603v.789h2.114zm-2.551-2.398c-.368.396-.851.593-1.447.593-.389 0-.734-.089-1.032-.268a1.853 1.853 0 0 1-.699-.747c-.168-.319-.251-.69-.251-1.113 0-.412.084-.778.251-1.098.168-.319.401-.568.699-.747a1.977 1.977 0 0 1 1.032-.268c.401 0 .75.089 1.048.268s.531.428.699.747c.168.32.252.685.252 1.098 0 .628-.185 1.141-.552 1.536zM86.446 22.847c0-.314.068-.59.204-.828.135-.239.322-.423.561-.553.238-.13.509-.194.812-.194.466 0 .845.146 1.138.438s.439.672.439 1.138v4.502h2.13v-4.973c0-.53-.13-1.026-.39-1.487-.26-.46-.618-.834-1.073-1.121s-.969-.431-1.544-.431c-.596 0-1.129.13-1.6.39a2.892 2.892 0 0 0-.675.524V19.5h-2.129v7.85h2.129v-4.502zM95.071 26.975c.639.358 1.359.537 2.161.537.618 0 1.187-.114 1.707-.342.52-.227.981-.558 1.381-.991l-1.381-1.381c-.207.238-.453.42-.74.545s-.609.187-.967.187c-.389 0-.739-.09-1.048-.268a1.937 1.937 0 0 1-.731-.747 2.204 2.204 0 0 1-.268-1.097c0-.423.089-.788.268-1.098.179-.308.423-.552.731-.731a2.054 2.054 0 0 1 1.048-.268c.346 0 .664.061.951.179.287.12.533.293.74.521l1.365-1.382c-.38-.422-.829-.747-1.349-.975s-1.089-.341-1.707-.341c-.791 0-1.509.181-2.154.544a4.043 4.043 0 0 0-1.519 1.471c-.368.617-.552 1.316-.552 2.096 0 .769.184 1.462.552 2.08s.872 1.105 1.512 1.462zM107.04 19.832c-.58-.341-1.249-.512-2.007-.512a4.113 4.113 0 0 0-3.583 2.007c-.364.612-.545 1.308-.545 2.089 0 .791.187 1.495.561 2.113a4 4 0 0 0 1.519 1.455c.639.352 1.371.528 2.194.528.639 0 1.232-.114 1.779-.342a3.628 3.628 0 0 0 1.389-1.007l-1.251-1.252c-.239.271-.52.474-.845.609a2.796 2.796 0 0 1-1.089.204c-.444 0-.834-.095-1.17-.285s-.593-.46-.772-.812a2.39 2.39 0 0 1-.157-.45l5.723-.014a3.946 3.946 0 0 0 .115-.926c0-.747-.166-1.417-.496-2.007s-.785-1.056-1.365-1.398zm-3.112 1.544a2.103 2.103 0 0 1 1.105-.284c.401 0 .74.084 1.016.252.276.169.487.409.634.724.07.151.124.321.165.506l-3.783.011c.039-.143.077-.286.139-.412.169-.342.409-.606.724-.797zM114.378 19.336c-.877 0-1.549.279-2.014.837l-.017.025v-.699h-2.129v7.85h2.129V23.01c0-.586.144-1.022.431-1.308.287-.287.658-.43 1.113-.43.217 0 .409.032.577.097.169.065.311.163.431.292l1.332-1.527a2.252 2.252 0 0 0-.828-.61 2.688 2.688 0 0 0-1.024-.187zM120.571 24.482l-1.795-4.983h-2.308l2.976 7.174-1.871 3.958h2.259l1.431-3.218 3.494-7.914h-2.324zM131.598 15.923h-2.211v11.426H136.831v-1.967h-5.233zM143.614 20.278a2.753 2.753 0 0 0-.764-.6c-.445-.228-.948-.341-1.511-.341-.716 0-1.36.179-1.935.536a3.742 3.742 0 0 0-1.349 1.463c-.325.617-.487 1.316-.487 2.096 0 .769.163 1.462.487 2.08a3.739 3.739 0 0 0 1.349 1.462 3.581 3.581 0 0 0 1.935.537c.563 0 1.066-.117 1.511-.349.301-.158.545-.368.764-.603v.789h2.113v-7.85h-2.113v.779zm-.438 4.673c-.368.396-.851.593-1.447.593-.389 0-.734-.089-1.032-.268a1.853 1.853 0 0 1-.699-.747c-.168-.319-.251-.69-.251-1.113 0-.412.084-.778.251-1.098.168-.319.401-.568.699-.747a1.977 1.977 0 0 1 1.032-.268c.401 0 .75.089 1.048.268s.531.428.699.747c.169.32.252.685.252 1.098 0 .628-.185 1.141-.552 1.536zM153.417 19.767a2.832 2.832 0 0 0-1.544-.431c-.596 0-1.129.13-1.6.39a2.892 2.892 0 0 0-.675.524v-.752h-2.129v7.85h2.129v-4.502c0-.314.068-.59.204-.828.135-.239.322-.423.561-.553.238-.13.509-.194.812-.194.466 0 .845.146 1.138.438.293.293.439.672.439 1.138v4.502h2.13v-4.973c0-.53-.13-1.026-.39-1.487a3.13 3.13 0 0 0-1.073-1.121zM163.495 21.23a3.68 3.68 0 0 0-1.365-1.398c-.58-.341-1.249-.512-2.007-.512a4.113 4.113 0 0 0-3.583 2.007c-.364.612-.545 1.308-.545 2.089 0 .791.187 1.495.561 2.113a4 4 0 0 0 1.519 1.455c.639.352 1.371.528 2.194.528.639 0 1.232-.114 1.779-.342a3.628 3.628 0 0 0 1.389-1.007l-1.251-1.252c-.239.271-.52.474-.845.609a2.796 2.796 0 0 1-1.089.204c-.444 0-.834-.095-1.17-.285s-.593-.46-.772-.812a2.39 2.39 0 0 1-.157-.45l5.723-.014a3.946 3.946 0 0 0 .115-.926c0-.747-.166-1.417-.496-2.007zm-4.478.146a2.103 2.103 0 0 1 1.105-.284c.401 0 .74.084 1.016.252.276.169.487.409.634.724.07.151.124.321.165.506l-3.783.011c.039-.143.077-.286.139-.412.169-.342.409-.606.724-.797zM62.13 31.96c-.58-.292-1.233-.439-1.958-.439H55.67v11.425h2.211v-4.242h2.292c.725 0 1.378-.146 1.958-.438a3.383 3.383 0 0 0 1.373-1.243c.336-.537.505-1.173.505-1.91s-.169-1.374-.505-1.91a3.369 3.369 0 0 0-1.373-1.243zm-.577 4.12a1.614 1.614 0 0 1-.666.61 2.078 2.078 0 0 1-.943.211H57.88v-3.576h2.064c.346 0 .661.07.943.211s.504.347.666.618c.163.27.244.59.244.959 0 .379-.081.702-.244.966zM69.787 34.934c-.877 0-1.549.279-2.014.837l-.017.025v-.699h-2.129v7.849h2.129v-4.339c0-.586.144-1.022.431-1.308.287-.288.658-.431 1.113-.431.217 0 .409.033.577.098.169.065.311.163.431.292l1.332-1.528a2.25 2.25 0 0 0-.828-.609 2.688 2.688 0 0 0-1.024-.187zM79.588 41.085c.368-.623.553-1.319.553-2.088s-.185-1.46-.553-2.073a4.087 4.087 0 0 0-1.503-1.462c-.634-.363-1.352-.545-2.153-.545-.78 0-1.49.182-2.129.545-.64.363-1.143.85-1.512 1.462-.368.612-.552 1.303-.552 2.073s.187 1.465.561 2.088a4.107 4.107 0 0 0 1.511 1.479c.634.363 1.346.545 2.137.545s1.503-.182 2.137-.545 1.135-.856 1.503-1.479zm-1.877-.974c-.169.32-.407.569-.716.747a2.082 2.082 0 0 1-1.064.268c-.389 0-.737-.09-1.04-.268a1.878 1.878 0 0 1-.715-.747c-.174-.319-.261-.685-.261-1.097s.087-.775.261-1.089c.172-.314.411-.561.715-.74.303-.179.65-.268 1.04-.268.401 0 .753.089 1.057.268.303.179.542.426.715.74s.26.677.26 1.089-.084.778-.251 1.097zM82.855 31.391c-.347 0-.634.12-.862.358s-.342.526-.342.862c0 .347.114.636.342.869s.514.349.862.349c.357 0 .647-.116.869-.349s.333-.523.333-.869c0-.336-.111-.624-.333-.862s-.512-.358-.869-.358zM81.766 43.515c0 .314-.092.553-.276.716a1 1 0 0 1-.683.244 1.16 1.16 0 0 1-.512-.106 1.215 1.215 0 0 1-.414-.349l-1.349 1.349c.304.335.642.595 1.016.78.373.184.843.276 1.405.276.553 0 1.048-.116 1.487-.349s.791-.568 1.057-1.007.398-.967.398-1.585v-8.385h-2.129v8.418zM91.459 35.43c-.58-.342-1.249-.512-2.007-.512a4.113 4.113 0 0 0-3.583 2.007c-.364.612-.545 1.308-.545 2.089 0 .791.187 1.495.561 2.113a4 4 0 0 0 1.519 1.455c.639.352 1.371.528 2.194.528.639 0 1.232-.114 1.779-.342a3.646 3.646 0 0 0 1.389-1.007l-1.251-1.252c-.239.271-.52.474-.845.609a2.796 2.796 0 0 1-1.089.204c-.444 0-.834-.095-1.17-.285s-.593-.46-.772-.812a2.39 2.39 0 0 1-.157-.45l5.723-.014a4.015 4.015 0 0 0 .114-.926c0-.747-.166-1.417-.496-2.007s-.785-1.057-1.365-1.398zm-3.112 1.544a2.103 2.103 0 0 1 1.105-.284c.401 0 .74.084 1.016.251.276.169.487.409.634.724.07.151.124.321.165.506l-3.783.011c.039-.143.077-.286.139-.412.169-.342.409-.606.724-.797zM99.391 40.94a2.397 2.397 0 0 1-.967.187c-.389 0-.739-.09-1.048-.268a1.937 1.937 0 0 1-.731-.747 2.204 2.204 0 0 1-.268-1.097c0-.423.089-.788.268-1.098.179-.308.423-.552.731-.731a2.054 2.054 0 0 1 1.048-.268c.346 0 .664.059.951.178.287.12.533.293.74.521l1.365-1.381c-.38-.423-.829-.748-1.349-.976s-1.089-.341-1.707-.341c-.791 0-1.509.182-2.154.545s-1.151.853-1.519 1.471c-.368.617-.552 1.316-.552 2.096 0 .769.184 1.462.552 2.08s.872 1.105 1.512 1.462c.639.358 1.359.537 2.161.537.618 0 1.187-.114 1.707-.342s.981-.558 1.381-.991l-1.381-1.381a2.06 2.06 0 0 1-.74.545zM105.948 31.83h-2.13v3.267h-1.836v1.869h1.836v5.981h2.13v-5.981h1.837v-1.869h-1.837z"></path></svg>
  </div>
  <div class="center-wrapper">
	  <div class="section">

		<h1 class"size size--x-large">Find the right climate aligned clauses for your contract</h1>

		<div id="preResults">
			<h2>Before you upload your contract</h2>
				<ul>
				  <li>Remove any personally identifiable information</li>
				  <li>Save it as a TXT file</li>
				</ul>

			<h2>How your contract is used</h2>
			<ul>
			  <li>The content in this contract is only used to identify which clauses work be suitable</li>
			  <li>Only content from The Chancery Lane Project will be displayed</li>
			  <li>Your contract is deleted immediately after it is analysed. It is not stored or used elsewhere</li>
			</ul>

			<form id="uploadForm">
				<div class="govuk-form-group">
				  <h2 id="uploadLabel">Upload a single contract</h2>
				  <label class="govuk-label" for="file-upload-1">
					Upload a contract
				  </label>
				  <input class="govuk-file-upload" id="file" name="file" type="file" accept=".txt">
				</div>

			  <div style="display: none;">
				<label for="method">Select Embedding Method:</label>
				<select id="method" name="method">
					<option value="cls">CLS</option>
					<option value="mean">Mean</option>
					<option value="max">Max</option>
					<option value="concat">Concat</option>
					<option value="specific">Specific</option>
				</select><br><br>
				</div>
				<button type="submit" class="cfc-button">Continue</button>
			</form>
		</div>

		<div id="results"></div>
		<div id="clauseDetails" style="display: none;"></div>

		<script>
	document.getElementById("uploadForm").addEventListener("submit", async (e) => {
			e.preventDefault(); // Prevent form from reloading the page

			try {
				const formData = new FormData();
				const fileInput = document.getElementById("file");
				const method = document.getElementById("method").value;

				if (fileInput.files.length === 0) {
					alert("Please upload a file.");
					return;
				}

				formData.append("file", fileInput.files[0]);
				formData.append("method", method);

				const baseUrl = `${window.location.protocol}//${window.location.host}`;

				const response = await fetch(`${baseUrl}/find_clauses/`, {
					method: "POST",
					body: formData,
				});

				if (!response.ok) {
					throw new Error(`HTTP error! status: ${response.status}`);
				}

				const result = await response.json();
				const resultsDiv = document.getElementById("results");
				const preResults = document.getElementById("preResults");
				const statusExplainer = document.getElementById("statusExplainer");
				const guideReccomendations = document.getElementById("guideReccomendations");

				resultsDiv.innerHTML = "<h2>Based on your contract, the 3 most relevant clauses are:</h2>";
				preResults.classList.add("hidden");
				statusExplainer.classList.remove("hidden");
			   guideReccomendations.classList.remove("hidden");

			   for (const match of result.matches) {
					// Fetch and display each clause text immediately
					const clauseText = await fetch_clause_text(match.name);

					const clauseDiv = document.createElement("div");
					clauseDiv.classList.add("clause-pseudo-wrapper");

					// Determine the match level based on the score
					let matchLevel = "";
					let signalClass = "";
					if (match.score > 0.91) {
						matchLevel = "Very good match";
						signalClass = "very-good";
					} else if (match.score > 0.89) {
						matchLevel = "Good match";
						signalClass = "good";
					} else if (match.score > 0.82) {
						matchLevel = "Acceptable match";
						signalClass = "acceptable";
					} else {
						matchLevel = "Could Consider";
						signalClass = "could-consider";
					}

					// Create the score box
					const scoreBox = document.createElement("span");
					scoreBox.classList.add("confidence-indicator");
					scoreBox.innerHTML = `
						<span class='signal ${signalClass}'></span>${matchLevel} (${match.score.toFixed(4)})
					`;

					// Add the clause text as rendered HTML
					const text = document.createElement("div");
					text.innerHTML = clauseText; // Use innerHTML to render HTML correctly

					// Append score box and text to clause container
					clauseDiv.appendChild(scoreBox);
					clauseDiv.appendChild(text);

					// Append the clause container to the results
					resultsDiv.appendChild(clauseDiv);
				}
			} catch (error) {
				console.error("Error during fetch:", error);
				alert("An error occurred. Check the console for more details.");
			}
		});

			async function fetch_clause_text(clauseName) {
				try {
					const baseUrl = `${window.location.protocol}//${window.location.host}`;

					const response = await fetch(`${baseUrl}/clause/${clauseName}`);
					if (!response.ok) {
						throw new Error(`HTTP error! status: ${response.status}`);
					}
					const result = await response.json();
					return result.text;
				} catch (error) {
					console.error("Error fetching clause:", error);
					alert("An error occurred while fetching the clause text.");
					return "Unable to fetch clause text.";
				}
			}
		</script>

		<div id="guideReccomendations" class="border-section hidden">
		  <h2>Learn how to prepare for, and implement these clauses</h2>
		  <div class="cfc-cards-grid grid-count--2 grid-size--large cards-type--guide-summary-card-large grid-columns--2">
			<div class="card-1 cfc-card has-post-thumbnail"><div class="cfc-card__inner"><div class="cfc-card__content"><span class="cfc-card__type">Guide</span><h3 class="cfc-card__heading"><a class="cfc-card__link" href="https://chancerylaneproject.org/guides/introduce-climate-provisions-to-contract-parties/" >Introduce climate provisions to contract parties</a></h3><div class="cfc-card__description">Create the right conditions for using contracts to reduce emissions from the very beginning</div></div><figure class="cfc-card__image"><picture><img alt="" decoding="async" loading="lazy" src="https://chancerylaneproject.org/wp-content/uploads/2024/04/Introduce-climate-provisions-to-contract-parties-640x384.png"></picture></figure></div></div>
			<div class="card-2 cfc-card has-post-thumbnail"><div class="cfc-card__inner"><div class="cfc-card__content"><span class="cfc-card__type">Guide</span><h3 class="cfc-card__heading"><a class="cfc-card__link" href="https://chancerylaneproject.org/guides/integrate-climate-obligations-into-contracts/">Integrate climate obligations into contracts</a></h3><div class="cfc-card__description">Impose legally binding and enforceable obligations to help meet emissions-reduction targets</div></div><figure class="cfc-card__image"><picture><img alt="" decoding="async" loading="lazy" src="https://chancerylaneproject.org/wp-content/uploads/2024/04/Integrate-climate-obligations-into-contracts-640x384.png"></picture></figure></div></div>
		  </div>
		</div>

		<div id="statusExplainer" class="border-section hidden">
		  <h2>What the scores mean</h2>
		  <h3>What <span class="confidence-indicator"><span class="signal very-good"></span>Very good match</span> means</h3>
		  <p>A 'very good' classification means that out of a grouping of top three matches, this match is in the 75th percentile of similarity. So, even among other good matches, this is a particularly good match.</p>

		  <h3>What <span class="confidence-indicator"><span class="signal good"></span>Good match</span> means</h3>
		  <p>As with the 'very good' match, a 'good' match means the score falls between the 50th and 75th percentile when considered against other top 3 matches in a grouping of 1000 documents.</p>

		  <h3>What <span class="confidence-indicator"><span class="signal acceptable"></span>Acceptable match</span> means</h3>
		  <p>An 'acceptable' match falls between the 25th and 50th percentile, using the same methods as 'very good' and 'good'.</p>

		  <h3>What <span class="confidence-indicator"><span class="signal could-consider"></span>Could Consider</span> means</h3>
		  <p>A 'Could Consider' flag means there was no particularly good match for your upload. The application has given you something that you could look into further, if you wished. You might be more well served checking out one of our guides!</p>
		</div>

	  </div>
	</div>

</body>
</html>
